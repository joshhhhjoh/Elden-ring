/* J//Gallery v2.3 â€” iOS Photos picker compatibility build */
:root{ --bg:#0b0b0b; --panel:#111; --ink:#fff; --ink-dim:#bfbfbf; --line:#1f1f1f; }
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--ink);font:15.5px/1.45 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
.shell{max-width:1120px;margin:0 auto;padding:0 16px}
header.shell{display:flex;align-items:center;justify-content:space-between;height:64px;border-bottom:1px solid var(--line);background:#0e0e0e;position:sticky;top:0;z-index:20}
.brand{display:flex;align-items:center;gap:10px}
.logo{width:34px;height:34px;border-radius:8px;border:1px solid var(--line);display:grid;place-items:center;font-weight:800}
.brand h1{font-size:18px;letter-spacing:.12em;margin:0;text-transform:uppercase}
.nav{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.btn{position:relative;background:#131313;border:1px solid var(--line);color:var(--ink);padding:10px 12px;border-radius:10px;cursor:pointer;transition:.18s transform,.18s background,.18s border-color}
.btn:hover{background:#171717;transform:translateY(-1px)}
.btn.danger{border-color:#3a1e1e;color:#ffbdbd}
.btn.sm{padding:6px 8px;border-radius:8px;font-size:12px}
.file-btn{position:relative;overflow:hidden}
.file-btn input{position:absolute;inset:0;opacity:0;cursor:pointer;-webkit-appearance:none;appearance:none}
.hidden-import{position:fixed;left:-9999px;top:-9999px;opacity:0;width:1px;height:1px}

.panel{padding:14px 16px 8px;border-bottom:1px solid var(--line);background:var(--panel)}
.filters{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap}
.search{flex:1 1 340px;background:#0e0e0e;border:1px solid var(--line);color:var(--ink);padding:10px 12px;border-radius:12px}
.muted{color:var(--ink-dim)}
.titlebar{margin-top:10px}
.titleInput{width:100%;background:transparent;color:var(--ink);border:none;outline:none;font:600 22px/1.2 ui-sans-serif, system-ui}

.grid{list-style:none;margin:0;padding:18px 0 90px;display:grid;gap:16px;grid-template-columns:repeat(auto-fill,minmax(240px,1fr))}
.card{border:1px solid var(--line);border-radius:14px;overflow:hidden;background:var(--panel);display:flex;flex-direction:column}
.media{position:relative;background:#0f0f0f}
.thumb{width:100%;aspect-ratio:4/3;object-fit:cover;display:block}

/* Overlay at bottom-right; visible only in edit mode */
.overlay{position:absolute;right:8px;bottom:8px;display:none;gap:8px;z-index:10}
.card.edit .overlay{display:flex}
.icon{background:#0d0d0d;border:1px solid #2a2a2a;color:#fff;padding:10px 12px;border-radius:12px;cursor:pointer;box-shadow:0 6px 16px rgba(0,0,0,.45)}
.icon.danger{border-color:#4a1e1e;color:#ffb5b5}

.meta{padding:10px;display:grid;gap:8px}
.title,.desc,.tags{width:100%;background:#0e0e0e;color:var(--ink);border:1px solid var(--line);padding:8px 10px;border-radius:10px}
.desc{resize:vertical;min-height:42px}
.orderRow{display:flex;gap:8px;justify-content:flex-end}

.foot{padding:14px 16px 110px;border-top:1px solid var(--line);color:var(--ink-dim)}

/* Lightbox */
.lightbox{position:fixed;inset:0;background:rgba(0,0,0,.86);display:grid;place-items:center;z-index:50}
.lightbox img{max-width:92vw;max-height:72vh;border-radius:12px;border:1px solid var(--line);background:#0e0e0e}
.lbTitle{font-weight:700;margin-top:12px}
.lbDesc{color:var(--ink-dim)}
.lightboxMeta{margin-top:6px;text-align:center}
.icon.close{position:absolute;top:10px;right:10px}

/* Export dialog */
dialog{border:none;border-radius:12px;padding:0;background:#121212;color:var(--ink);max-width:800px;width:92vw}
.dlg{padding:14px}
.dlg h3{margin:0 0 8px}
#exportText{width:100%;height:40vh;background:#0e0e0e;color:#fff;border:1px solid var(--line);border-radius:10px;padding:8px 10px;font-family:ui-monospace,SFMono-Regular,Menlo,monospace}
.dlgRow{display:flex;gap:10px;justify-content:flex-end;margin-top:10px}

/* Mobile dock */
.dock{position:fixed;left:0;right:0;bottom:0;z-index:30;display:flex;gap:10px;justify-content:space-between;padding:12px 16px;background:linear-gradient(180deg,rgba(0,0,0,0),rgba(0,0,0,.6)),#0f0f0f;border-top:1px solid var(--line)}
.dock-file-btn{position:relative;flex:1;background:#141414;color:#fff;border:1px solid var(--line);border-radius:12px;padding:10px;text-align:center;overflow:hidden}
.dock-file-btn input{position:absolute;inset:0;opacity:0;cursor:pointer;-webkit-appearance:none;appearance:none}
.dock-btn{flex:1;background:#141414;color:var(--ink);border:1px solid var(--line);border-radius:12px;padding:10px}

/* Scrollbar (desktop) */
@media (hover:hover){*::-webkit-scrollbar{height:12px;width:12px}*::-webkit-scrollbar-thumb{background:#1b1b1b;border:3px solid #0b0b0b;border-radius:10px}}
